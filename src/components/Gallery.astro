---
import { GalleryContextProvider } from "@utils/context/GalleryContext";
import { InfiniteGallery } from "./preact/InfiniteGallery";
import { parseParams } from "./preact/InfiniteGallery/helpers";

const params = new URL(Astro.url).searchParams;

const props = await parseParams(params);
---

<GalleryContextProvider {...props}>
  <InfiniteGallery />
</GalleryContextProvider>
